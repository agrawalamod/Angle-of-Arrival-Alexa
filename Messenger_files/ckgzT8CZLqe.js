if (self.CavalryLogger) { CavalryLogger.start_js(["TNg8o"]); }

__d("CenteredContainer.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=(this.props.vertical?"_3bwv":"")+(this.props.horizontal?" _3bww":""),c=b("React").Children.map(this.props.children,function(a){return b("React").createElement("div",{className:"_3bwx"},a)}),d=b("joinClasses")(this.props.className,this.props.fullHeight?"_5bpf":"");return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:d}),b("React").createElement("div",{className:a},b("React").createElement("div",{className:"_3bwy"},c)))};return c}(b("React").Component);c.propTypes={fullHeight:a.bool,vertical:a.bool,horizontal:a.bool};c.defaultProps={fullHeight:!1,vertical:!1,horizontal:!0};e.exports=c}),null);
__d("ChatContentSearchContextualDialog.react",["cx","ContextualLayerAutoFlipHorizontal","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("LayerHideOnEscape")],displayName:"StickerXUIContextualDialog",theme:{wrapperClassName:"_53ii",arrowDimensions:{offset:47,length:16}}}));e.exports=a}),null);
__d("ChatContentSearchButton.react",["cx","fbt","AutoFocusableLink.react","BootloadOnRender.react","ChatContentSearchContextualDialog.react","ChatFlyoutPlaceholder.react","JSResource","LazyComponent.react","MercuryShareAttachmentRenderLocations","React","ReactComponentWithPureRenderMixin","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=278;c=b("React").createClass({displayName:"ChatContentSearchButton",_clickGuard:!1,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{autoFocus:a.bool,clicked:a.bool,ContextualDialogClass:a.func,flyoutAlignment:a.oneOf(["left","right"]),getQuery:a.func.isRequired,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),onLoad:a.func,onSelect:a.func.isRequired},getDefaultProps:function(){return{flyoutAlignment:"left",location:b("MercuryShareAttachmentRenderLocations").CHAT}},getInitialState:function(){return{query:"",shown:!!this.props.clicked}},componentDidMount:function(){this.props.onLoad&&this.props.onLoad(this)},updateQuery:function(){this.setState({query:this.props.getQuery()})},hideFlyout:function(){this.setState({query:"",shown:!1})},render:function(){return b("React").createElement("span",null,b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:b("joinClasses")(this.props.className,this.state.shown?"open":""),href:"#",onMouseDown:this._handleMouseDown,onClick:this._handleClick,role:"button",title:h._("Choose a gif"),ref:"link"}),this.renderLayers())},renderLayers:function(){var a=this;if(!this.state.shown)return null;var c=this.props.ContextualDialogClass||b("ChatContentSearchContextualDialog.react");return b("React").createElement(c,{alignment:this.props.flyoutAlignment,contextRef:function(){return a.refs.link},onBlur:this.hideFlyout,onToggle:this._handleContextualDialogToggle,shown:this.state.shown,width:i,key:"contextualDialog"},b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{location:this.props.location,onEscKeyDown:this.hideFlyout,onSelect:this._handleSelect,query:this.state.query}),loader:b("JSResource")("ChatContentSearchFlyout.react").__setRef("ChatContentSearchButton.react"),placeholder:b("React").createElement(b("ChatFlyoutPlaceholder.react"),null)}))},_handleMouseDown:function(a){this._clickGuard=this.state.shown},_handleClick:function(a){a.stopPropagation();if(this.state.shown||this._clickGuard)return;this.setState({query:this.props.getQuery(),shown:!this.state.shown})},_handleSelect:function(a,b){this.props.onSelect(a,b),this.hideFlyout()},_handleContextualDialogToggle:function(a){this.setState({shown:a})}});e.exports=c}),null);
__d("MessengerDragAndDrop.react",["Bootloader","JSResource","MercuryShareAttachmentRenderLocations","MessengerEnvironment","React","lazyLoadComponent","emptyFunction","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=960;a=b("React").PropTypes;var h=b("lazyLoadComponent")(b("JSResource")("MercurySharePreview.react").__setRef("MessengerDragAndDrop.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){c.$5(function(b){b.removeSharePreview(a)})},c.$3=function(a,b){c.$5(function(c){c.loadedShareData(a,b)})},c.$4=function(a){c.$5(function(b){b.loadingShareData(a)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"MessengerDragAndDrop.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"MessengerDragAndDrop.react")};d.shouldComponentUpdate=function(a){var b=this.props;return b.threadID!==a.threadID||!!(!b.sharePreview&&a.sharePreview)||!!(b.sharePreview&&a.sharePreview&&!b.sharePreview.equals(a.sharePreview))};d.render=function(){var a=this.props,c=a.sharePreview;a=a.threadID;c=c||{};var d=c.share;c=c.uri;return d||c?b("React").createElement("div",{className:"fbNubFlyoutAttachments"},b("React").createElement("div",{className:"chatAttachmentShelf"},b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,{onClose:this.$2,onLoaded:this.$3,onLoading:this.$4,threadID:a,imageSize:{width:g,height:g},location:b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:d,uri:c})))):null};d.$5=function(a){__p&&__p();var c=this;b("setImmediate")(function(){typeof c.props.onResize==="function"&&c.props.onResize()});b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){a(b)},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){a(b)},"MessengerDragAndDrop.react")}):b("ifRequired")("FantaMessageActions",function(b){a(b)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){a(b)},"MessengerDragAndDrop.react")})};return c}(b("React").Component);c.propTypes={threadID:a.string.isRequired};e.exports=c}),null);